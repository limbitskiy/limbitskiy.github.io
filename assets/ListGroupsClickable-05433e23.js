import{_ as H,M as P,y as a,z as A,I as T,J as q,i as J,o as t,c as i,e,p as v,E as C,t as f,j as b,A as u,b as Q,F as m,d as _,a as B,k as W,w as R,q as I,L as X,v as Y,B as Z,G as ee,H as se}from"./index-77bff396.js";import{s as ne}from"./dialog.esm-a97821dc.js";import{s as oe}from"./chip.esm-5309cac8.js";const r=h=>(ee("data-v-47df1054"),h=h(),se(),h),te={class:"group-settings"},ie={class:"header"},le={class:"header-start"},re={class:"header-end"},ae=r(()=>e("path",{d:"M0 6.5H13",stroke:"#CBB68D","stroke-width":"2"},null,-1)),de=r(()=>e("path",{d:"M6.5 13L6.5 4.76837e-07",stroke:"#CBB68D","stroke-width":"2"},null,-1)),ce=[ae,de],ue=r(()=>e("path",{d:"M1 8.5L10.5 1L19.5001 8.5",stroke:"black","stroke-linecap":"round"},null,-1)),pe=[ue],ve={class:"panel-content"},me={key:0,class:"settings-list"},ge=["data-id","onClick"],be={class:"item-start"},_e={class:"main-data"},ke={class:"item-end"},fe=r(()=>e("svg",{width:"4",height:"15",viewBox:"0 0 4 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("ellipse",{cx:"1.59681",cy:"1.5",rx:"1.59681",ry:"1.5",fill:"#222222"}),e("ellipse",{cx:"1.59681",cy:"7.5",rx:"1.59681",ry:"1.5",fill:"#222222"}),e("ellipse",{cx:"1.59681",cy:"13.5",rx:"1.59681",ry:"1.5",fill:"#222222"})],-1)),he=[fe],je={key:0},we=r(()=>e("p",null,"Тут будет отображен список обьектов:",-1)),ye={key:1},xe=r(()=>e("p",null,"Список условий:",-1)),Ce={key:2},Ie=r(()=>e("p",null,"Парсеры:",-1)),Me={key:3},Le=r(()=>e("p",null,"Настройки группы:",-1)),Be={key:4},Se=r(()=>e("p",null,"Настройки региона:",-1)),$e={key:5},Re={class:"input-field"},Ve=r(()=>e("label",null,"Название",-1)),De={class:"input-field"},Oe=r(()=>e("label",null,"Описание",-1)),Ue={class:"input-field"},Ee=r(()=>e("label",null,"Регион",-1)),Ge={class:"error-message"},Ke={__name:"ListGroupsClickable",setup(h){P();const g=a([{id:0,name:"15.8",desc:null,objects:2847,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:1,name:"700-ПП/Фильтр Краснов М.",desc:null,objects:298,region:"Санкт-Петербург",conditions:["начинается с 66","уникальная"],parsers:["Росреестр","2ГИС"]},{id:2,name:"KR Properties",desc:null,objects:228,region:"Московская область",conditions:["начинается с 77","уникальная"],parsers:["Росреестр","ГИС"]},{id:3,name:"Сбер Банк",desc:"Есть много вариантов Lorem Ipsum, но большинство из них имеет не всегда приемлемые модификации, например, юмористические вставки или слова, которые даже отдалённо не напоминают латынь. ",objects:4235,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:4,name:"Альфа Банк",desc:"Если вам нужен Lorem Ipsum для серьёзного проекта, вы наверняка не хотите какой-нибудь шутки, скрытой в середине абзаца.",objects:1234,region:"Санкт-Петербург",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:5,name:"Анастасия Антонец (Исключение/льгота)",desc:null,objects:13,region:"Московская область",conditions:["уникальная"],parsers:["Росреестр"]},{id:6,name:"Были в проработке (Искл/льгота)",desc:"Объекты, которые ранее были проработаны на предмет исключения или применения льготы",objects:2420,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:7,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:8,name:"937-new (ГКО: объекты неустановленного назначения)",desc:"Объекты площадью от 500 кв.м., по которым кадастровая определена необоснованно низко (может быть пересмотрена городом по аналогии с 937-ПП)",objects:273,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:9,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:10,name:"15.8",desc:null,objects:2847,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:11,name:"700-ПП/Фильтр Краснов М.",desc:null,objects:298,region:"Санкт-Петербург",conditions:["начинается с 66","уникальная"],parsers:["Росреестр","2ГИС"]},{id:12,name:"KR Properties",desc:null,objects:228,region:"Московская область",conditions:["начинается с 77","уникальная"],parsers:["Росреестр","ГИС"]},{id:13,name:"Сбер Банк",desc:"Есть много вариантов Lorem Ipsum, но большинство из них имеет не всегда приемлемые модификации, например, юмористические вставки или слова, которые даже отдалённо не напоминают латынь. ",objects:4235,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:14,name:"Альфа Банк",desc:"Если вам нужен Lorem Ipsum для серьёзного проекта, вы наверняка не хотите какой-нибудь шутки, скрытой в середине абзаца.",objects:1234,region:"Санкт-Петербург",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:15,name:"Анастасия Антонец (Исключение/льгота)",desc:null,objects:13,region:"Московская область",conditions:["уникальная"],parsers:["Росреестр"]},{id:16,name:"Были в проработке (Искл/льгота)",desc:"Объекты, которые ранее были проработаны на предмет исключения или применения льготы",objects:2420,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:17,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:18,name:"937-new (ГКО: объекты неустановленного назначения)",desc:"Объекты площадью от 500 кв.м., по которым кадастровая определена необоснованно низко (может быть пересмотрена городом по аналогии с 937-ПП)",objects:273,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:19,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:20,name:"15.8",desc:null,objects:2847,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:21,name:"700-ПП/Фильтр Краснов М.",desc:null,objects:298,region:"Санкт-Петербург",conditions:["начинается с 66","уникальная"],parsers:["Росреестр","2ГИС"]},{id:22,name:"KR Properties",desc:null,objects:228,region:"Московская область",conditions:["начинается с 77","уникальная"],parsers:["Росреестр","ГИС"]},{id:23,name:"Сбер Банк",desc:"Есть много вариантов Lorem Ipsum, но большинство из них имеет не всегда приемлемые модификации, например, юмористические вставки или слова, которые даже отдалённо не напоминают латынь. ",objects:4235,region:"Москва",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:24,name:"Альфа Банк",desc:"Если вам нужен Lorem Ipsum для серьёзного проекта, вы наверняка не хотите какой-нибудь шутки, скрытой в середине абзаца.",objects:1234,region:"Санкт-Петербург",conditions:["начинается с 77","уникальная"],parsers:["Росреестр"]},{id:25,name:"Анастасия Антонец (Исключение/льгота)",desc:null,objects:13,region:"Московская область",conditions:["уникальная"],parsers:["Росреестр"]},{id:26,name:"Были в проработке (Искл/льгота)",desc:"Объекты, которые ранее были проработаны на предмет исключения или применения льготы",objects:2420,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:27,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:28,name:"937-new (ГКО: объекты неустановленного назначения)",desc:"Объекты площадью от 500 кв.м., по которым кадастровая определена необоснованно низко (может быть пересмотрена городом по аналогии с 937-ПП)",objects:273,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:29,name:"Metrika Investments",desc:null,objects:7,region:"Москва",conditions:["уникальная"],parsers:["Росреестр"]},{id:997,name:"Москва",desc:"Глобальная региональная группа",objects:54366346,conditions:["региональная","уникальная"],parsers:["Росреестр"]},{id:998,name:"Московская область",desc:"Глобальная региональная группа",objects:34633236,conditions:["региональная","уникальная"],parsers:["Росреестр"]},{id:999,name:"Санкт-Петербург",desc:"Глобальная региональная группа",objects:6743567,conditions:["региональная","уникальная"],parsers:["Росреестр"]}]),V=[{label:"Настроить",icon:"pi pi-fw pi-cog",command:()=>{c("groupSettings")}},{label:"Удалить",icon:"pi pi-fw pi-trash",command:o=>{N(o.originalEvent)}}],j=a(null),p=a(null),w=a(!1),d=a(null),M=a(null),l=A({name:null,desc:null,region:null}),y=a(!1);let S=null;const $=a(null),x=a(""),D=o=>{S=o.target.closest("[data-id]").getAttribute("data-id"),$.value.toggle(o)},c=o=>{switch(o){case"objects":p.value="Обьекты";break;case"addRule":p.value="Новая группа";break;case"conditions":p.value="Условия";break;case"parsers":p.value="Парсеры";break;case"groupSettings":p.value="Настройки группы";break;case"regionSettings":p.value="Регион";break}w.value=!0,d.value=o},O=()=>!Object.values(l).some(o=>o===null),U=o=>{M.value=o},E=()=>{l.name=null,l.desc=null,l.region=null,M.value=""},G=()=>{if(!O()){U("Нужно заполнить все поля");return}w.value=!1,K({name:l.name,desc:l.desc,region:l.region}),E()},K=o=>{const s={id:Math.floor(Math.random()*999),name:o.name,desc:o.desc,objects:Math.floor(Math.random()*99999+99999),region:o.region,conditions:["начинается с 77","уникальная"],parsers:["Росреестр","ГИС"]};g.value.push(s)},N=()=>{g.value=g.value.filter(o=>o.id!=S)},z=T(()=>{let o;return j.value?o=g.value.filter(s=>s.region===j.value):o=g.value.filter(s=>typeof s.region>"u"),x.value?o.filter(s=>s.name.toLocaleLowerCase().includes(x.value.toLocaleLowerCase())):o}),F=o=>{o.region?c("groupSettings"):j.value=o.name};return q(()=>{}),(o,s)=>{const L=J("tooltip");return t(),i(m,null,[e("div",te,[e("div",ie,[e("div",le,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>x.value=n),type:"text",class:"my-input",placeholder:"Поиск"},null,512),[[C,x.value]]),e("span",null,"Всего: "+f(g.value.length),1),b(u(I),{icon:"pi pi-arrow-left",onClick:s[1]||(s[1]=n=>j.value=null),style:{color:"#222",padding:"5px 10px","margin-inline":"1rem","background-color":"#e5e5e5"},label:"Назад",size:"small",outlined:""})]),e("div",re,[(t(),i("svg",{class:"svg-btn",width:"15",height:"15",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:s[2]||(s[2]=n=>c("addRule"))},ce)),(t(),i("svg",{class:Q(["svg-btn",{reverse:y.value}]),width:"20",height:"9",viewBox:"0 0 20 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:s[3]||(s[3]=n=>y.value=!y.value)},pe,2))])]),e("div",ve,[y.value?B("",!0):(t(),i("ul",me,[(t(!0),i(m,null,_(u(z),n=>(t(),i("li",{class:"list-item",key:n.id,"data-id":n.id,onClick:X(k=>F(n),["self"])},[e("div",be,[e("div",_e,[e("span",{class:"name",onClick:s[4]||(s[4]=k=>c("groupSettings"))},f(n.name),1),e("span",{class:"objects",onClick:s[5]||(s[5]=k=>c("objects"))}," ("+f(n.objects)+")",1),e("span",{class:"region",onClick:s[6]||(s[6]=k=>c("regionSettings"))}," - "+f(n.region),1),n.desc?v((t(),Y(u(oe),{key:0,label:"Описание"},null,512)),[[L,n.desc,void 0,{top:!0}]]):B("",!0)])]),e("div",ke,[v(b(u(I),{icon:"pi pi-file-edit",onClick:s[7]||(s[7]=k=>c("conditions")),class:"item-end-btn",style:{color:"grey",width:"32px"},link:""},null,512),[[L,"Условия: "+n.conditions.join(", "),void 0,{top:!0}]]),v(b(u(I),{icon:"pi pi-wrench",onClick:s[8]||(s[8]=k=>c("parsers")),class:"item-end-btn",style:{color:"grey",width:"32px"},link:""},null,512),[[L,"Парсеры: "+n.parsers.join(", "),void 0,{top:!0}]]),e("div",{class:"actions-btn",onClick:D},he)])],8,ge))),128))]))])]),b(u(Z),{ref_key:"actionsMenu",ref:$,id:"overlay_menu",model:V,popup:!0},null,512),b(u(ne),{visible:w.value,"onUpdate:visible":s[12]||(s[12]=n=>w.value=n),modal:"",header:p.value,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},W({default:R(()=>[d.value==="objects"?(t(),i("div",je,[we,(t(),i(m,null,_(20,n=>e("p",null,"82579027602760")),64))])):d.value==="conditions"?(t(),i("div",ye,[xe,(t(),i(m,null,_(5,n=>e("p",null,"82579027602760")),64))])):d.value==="parsers"?(t(),i("div",Ce,[Ie,(t(),i(m,null,_(5,n=>e("p",null,"82579027602760")),64))])):d.value==="groupSettings"?(t(),i("div",Me,[Le,(t(),i(m,null,_(5,n=>e("p",null,"82579027602760")),64))])):d.value==="regionSettings"?(t(),i("div",Be,[Se,(t(),i(m,null,_(5,n=>e("p",null,"82579027602760")),64))])):d.value==="addRule"?(t(),i("div",$e,[e("div",Re,[Ve,v(e("input",{class:"my-input","onUpdate:modelValue":s[9]||(s[9]=n=>l.name=n)},null,512),[[C,l.name]])]),e("div",De,[Oe,v(e("input",{class:"my-input","onUpdate:modelValue":s[10]||(s[10]=n=>l.desc=n)},null,512),[[C,l.desc]])]),e("div",Ue,[Ee,v(e("input",{class:"my-input","onUpdate:modelValue":s[11]||(s[11]=n=>l.region=n)},null,512),[[C,l.region]])]),e("output",Ge,f(M.value),1)])):B("",!0)]),_:2},[d.value==="addRule"?{name:"footer",fn:R(()=>[b(u(I),{label:"OK",icon:"pi pi-check",onClick:G,autofocus:""})]),key:"0"}:void 0]),1032,["visible","header"])],64)}}},He=H(Ke,[["__scopeId","data-v-47df1054"]]);export{He as default};
